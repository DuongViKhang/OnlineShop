@model OnlineShop.ViewModels.HomeViewModel
    <div class="main-wrapper">

        <!-- Begin Main Header Area -->
        <!-- Main Header Area End Here -->
        <!-- Begin Slider Area -->
        <div class="slider-area">

            <!-- Main Slider -->
            <div class="swiper-container main-slider-2 swiper-arrow with-bg_white">
                <div class="swiper-wrapper">
                    <div class="swiper-slide animation-style-01">
                    <div class="slide-inner bg-height" data-bg-image="//bizweb.dktcdn.net/100/256/244/themes/589543/assets/home-slider-3.jpg?1692780616664">
                            <div class="container">
                                <div class="slide-content">
                                   <div style="height:300px">

                                   </div>
                                    <div class="button-wrap">
                                        <a class="btn btn-custom-size lg-size btn-primary btn-white-hover rounded-0" href="@Url.Action("Index", "Product")">Cửa hàng</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide animation-style-01">
                    <div class="slide-inner bg-height" style="resize:inherit" data-bg-image="//bizweb.dktcdn.net/100/256/244/themes/589543/assets/home-slider-1.jpg?1692780616664">
                            <div class="container">
                                <div class="slide-content">
                                <div style="height:300px">
                                </div>
                                <div class="button-wrap">
                                    <a class="btn btn-custom-size lg-size btn-primary btn-white-hover rounded-0" href="@Url.Action("Index", "Product")">Cửa hàng</a>
                                </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Add Pagination -->
                <div class="swiper-pagination with-bg d-md-none"></div>

                <!-- Add Arrows -->
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>

        </div>
        <!-- Slider Area End Here -->
        <!-- Begin Product Area -->
        <div class="product-area product-style-2 section-space-y-axis-100">
            <div class="container">
                <div class="section-title text-center pb-55">
                    <span class="sub-title text-primary">Sản phẩm bán chạy</span>
                </div>
                <div class="row">
                @{
                    String class_name = "col-xl-3 col-lg-4 col-sm-6 pt-6";
                }
                @{
                    for (var i = 0; i < Model.productList.Count; i++)
                    {

                        
                                                                        <div class="@class_name">
                                                                            <div class="product-item">
                                                                                <div class="product-img img-zoom-effect">
                                                                                    <a asp-controller="Product" asp-action="Detail" asp-route-id="@Model.productList[i].ProductId">
                                                                                        <img class="img-full" src="~/upload/images/product/@Model.productList[i].Image" alt="Product Images">
                                                                                    </a>
                                                                                    <div class="product-add-action">
                                                                                        <ul>
                                                                                            <li>
                                                                                                <a asp-controller="Product" asp-action="Detail" asp-route-id="@Model.productList[i].ProductId">
                                                                                                    <i class="pe-7s-wallet"></i>
                                                                                                </a>
                                                                                            </li>
                                                                                            <li>
                                                                                                <a asp-controller="Product" asp-action="Detail" asp-route-id="@Model.productList[i].ProductId">
                                                                                                    <i class="pe-7s-cart"></i>
                                                                                                </a>
                                                                                            </li>
                                                                                        </ul>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="product-content">
                                                                                   
                                                                                    @if(Model.productList[i].ProductName.Length < 20)
                                    {
                                                                                        <a class="product-name" asp-controller="Product" asp-action="Detail" asp-route-id="@Model.productList[i].ProductId">@Model.productList[i].ProductName </a>
                                                                                        <br />
                                    }
                                    else
                                    {
                                                                                        <a class="product-name" asp-controller="Product" asp-action="Detail" asp-route-id="@Model.productList[i].ProductId">@Model.productList[i].ProductName</a>
                                    }

                                                                                    <div class="price-box pb-1">
                                                                                        <span class="new-price">@Model.productList[i].PromotionalPrice.ToString("#,##0") VNĐ</span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                    }
               }

            </div>
        </div>
        <!-- Product Area End Here -->
        <!-- Begin Shipping Area -->
        <div class="shipping-area section-space-top-100">
            <div class="container">
                <div class="row">
                    <div class="col-lg-4 col-md-6">
                        <div class="shipping-item">
                            <div class="shipping-img">
                                <img src="assets/images/shipping/icon/plane.png" alt="Shipping Icon">
                            </div>
                            <div class="shipping-content">
                                <h5 class="title">Miễn phí vận chuyển</h5>
                                <p class="short-desc mb-0">Free Home Delivery Offer</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6 pt-6 pt-md-0">
                        <div class="shipping-item">
                            <div class="shipping-img">
                                <img src="assets/images/shipping/icon/earphones.png" alt="Shipping Icon">
                            </div>
                            <div class="shipping-content">
                                <h5 class="title">Hỗ trợ online</h5>
                                <p class="short-desc mb-0">Hỗ trợ 24/7 </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6 pt-6 pt-lg-0">
                        <div class="shipping-item">
                            <div class="shipping-img">
                                <img src="assets/images/shipping/icon/shield.png" alt="Shipping Icon">
                            </div>
                            <div class="shipping-content">
                                <h5 class="title">Bảo mật tài khoản</h5>
                                <p class="short-desc mb-0">Tài khoản an toàn</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Shipping Area End Here -->
        <!-- Begin Brand Area -->
        <div class="brand-area section-space-y-axis-100">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="swiper-container brand-slider">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide">
                                    <a class="brand-item" href="javascript:void(0)">
                                        <img src="~/assets/images/brand/lenovo.png" alt="Brand Image">
                                    </a>
                                </div>
                                <div class="swiper-slide">
                                    <a class="brand-item" href="javascript:void(0)">
                                    <img src="~/assets/images/brand/dell.png" alt="Brand Image">
                                    </a>
                                </div>
                                <div class="swiper-slide">
                                    <a class="brand-item" href="javascript:void(0)">
                                    <img src="~/assets/images/brand/acer.png" alt="Brand Image">
                                    </a>
                                </div>
                                <div class="swiper-slide">
                                    <a class="brand-item" href="javascript:void(0)">
                                    <img src="~/assets/images/brand/asus.png" alt="Brand Image">
                                    </a>
                                </div>
                                <div class="swiper-slide">
                                    <a class="brand-item" href="javascript:void(0)">
                                    <img src="~/assets/images/brand/sony.png" alt="Brand Image">
                                    </a>
                                </div>
                                <div class="swiper-slide">
                                    <a class="brand-item" href="javascript:void(0)">
                                        <img src="~/assets/images/brand/samsung.png" alt="Brand Image">
                                    </a>
                                </div>
                                 <div class="swiper-slide">
                                    <a class="brand-item" href="javascript:void(0)">
                                    <img src="~/assets/images/brand/apple.png" alt="Brand Image">
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Brand Area End Here -->
        <!-- Begin Scroll To Top -->
        <a class="scroll-to-top" href="">
            <i class="fa fa-chevron-up"></i>
        </a>
        <input type="hidden" id="userId" value="@HttpContextAccessor.HttpContext.Session.GetString("userId")" />
          
        
    </div>
    @section scripts{
        <script src="https://cdn.jsdelivr.net/npm/peerjs@1.3.2/dist/peerjs.min.js"></script>
        <script src="~/lib/microsoft/signalr/dist/browser/signalr.min.js"></script>
        <script>
            /*
            $.ajax({
                url: "/api/Firebase/UpdateSeen",
                type: "PUT",
                contentType: 'application/json',
                data: JSON.stringify({
                    userId: "1",
                    noticeId: "-NyzP_aK1BMA28RHe0rN"
                }),
                success: function (response) {
                    console.log("Notice updated successfully:", response);
                },
                error: function (xhr, status, error) {
                    console.error("Failed to update notice:", xhr.responseText);
                }
            });

            $.ajax({
                url: `/api/Firebase/GetNotices/1`, // Thay đổi URL thành URL của API
                type: 'GET',
                success: function (response) {
                    console.log(response);
                },
                error: function (xhr, status, error) {
                    console.log(error);
                }
            });
           
            $.ajax({
                url: '/api/Firebase/PushNotice', // Thay đổi URL thành URL của API
                type: 'POST',
                contentType: 'application/json',
                data: JSON.stringify({
                    receivedId: "1",
                    content: "Test"
                }),
                success: function (response) {
                    $('#response').html('<p>' + response + '</p>');
                },
                error: function (xhr, status, error) {
                    $('#response').html('<p>' + xhr.responseText + '</p>');
                }
            });
            */
            var connection = new signalR.HubConnectionBuilder().withUrl("/chathub").build();

            connection.start().then(function () {
                console.log("SignalR connected");
            }).catch(function (err) {
                return console.error(err.toString());
            });

        </script>     
    }


      

